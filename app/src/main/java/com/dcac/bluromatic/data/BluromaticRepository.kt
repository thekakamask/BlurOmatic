package com.dcac.bluromatic.data

import androidx.work.WorkInfo
import kotlinx.coroutines.flow.Flow

// INTERFACE QUI DÉFINIT LES OPÉRATIONS DE FLOUTAGE D'IMAGE À EXPOSER AU VIEWMODEL
// CETTE INTERFACE EST UTILISÉE POUR GARDER LE VIEWMODEL DÉCOUPLÉ DE L'IMPLEMENTATION CONCRÈTE (WORKMANAGER PAR EXEMPLE)

interface BluromaticRepository {

    // OBSERVABLE QUI FOURNIT EN TEMPS RÉEL LES INFOS SUR L’ÉTAT DE LA TÂCHE EN COURS (EN ATTENTE, EN COURS, TERMINÉE, ÉCHEC...)
    val outputWorkInfo: Flow<WorkInfo?>

    // LANCE LE TRAITEMENT DE FLOUTAGE EN FOURNISSANT UN NIVEAU DE FLOU (ENTIER)
    fun applyBlur(blurLevel: Int)

    // MÉTHODE POUR ANNULER UN OU PLUSIEURS WORKREQUESTS EN COURS (À IMPLÉMENTER DANS LE REPOSITORY)
    fun cancelWork()
}