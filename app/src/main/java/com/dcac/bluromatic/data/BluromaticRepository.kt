package com.dcac.bluromatic.data

import androidx.work.WorkInfo
import kotlinx.coroutines.flow.Flow

// INTERFACE QUI DÉFINIT LES FONCTIONNALITÉS LIÉES AU TRAITEMENT DE FLOU À EXPOSER AU VIEWMODEL
// PERMET DE CACHER LES DÉTAILS D’IMPLEMENTATION (WorkManager, contraintes, etc.)
// AINSI, LE ViewModel PEUT INTERAGIR AVEC UN "CONTRAT" ABSTRAIT, CE QUI FACILITE LES TESTS ET LA MAINTENANCE

interface BluromaticRepository {

    // FLUX QUI ÉMET EN TEMPS RÉEL L'ÉTAT DE LA DERNIÈRE TÂCHE DE FLOUTAGE (EN COURS, TERMINÉE, ANNULÉE…)
    val outputWorkInfo: Flow<WorkInfo>

    // MÉTHODE QUI LANCE UNE CHAÎNE DE TÂCHES POUR APPLIQUER UN FLOU À UNE IMAGE
    // PREND EN PARAMÈTRE UN NIVEAU DE FLOU (ENTIER)
    fun applyBlur(blurLevel: Int)

    // MÉTHODE POUR ANNULER LA CHAÎNE DE TÂCHES DE FLOUTAGE EN COURS
    fun cancelWork()
}